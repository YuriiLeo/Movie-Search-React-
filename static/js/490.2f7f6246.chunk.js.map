{"version":3,"file":"static/js/490.2f7f6246.chunk.js","mappings":"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","sources":["Pages/MovieDetailsPage/MovieDetailsPage.jsx","Pages/MovieDetailsPage/MovieDetailsPage.styled.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/Warnings/Warnings.styled.jsx","components/Warnings/Warnings.jsx","services/ApiMovie.js"],"sourcesContent":["import { useState,  useEffect, Suspense } from 'react';\nimport { getMovieById } from 'services/ApiMovie';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport Warnings from 'components/Warnings/Warnings';\nimport { Img, LinkStyled, List, Poster, PosterWrapper, Wrapper, WrapperSection } from './MovieDetailsPage.styled';\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n  const id = movieId;\n\n  const location = useLocation();\n\n  const isCastPage = location.pathname.includes('cast' || 'reviews');\n  const castLink = isCastPage ? `/movies/${id}` : `/movies/${id}/cast`;\n  const isReviewsPage = location.pathname.includes('reviews' || 'cast');\n  const reviewsLink = isReviewsPage ? `/movies/${id}` : `/movies/${id}/reviews`;\n\n  const backLink = location?.state?.from ?? \"/\";\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        const result = await getMovieById (id);\n        setMovie(result);\n\n      } catch (e) {\n        setError(e);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovie();\n  }, [id]);\n  \n  if (!movie) {\n    return null;\n  }\n\n  const { poster_path, title, vote_average, overview, genres } = movie;\n  const genreFilter = genres.map(genre => genre.name).join(\", \");\n\n  return (\n    < div >\n      {loading && <Loader />}\n      {error && <Warnings text=\"Please, try again later\"/>}\n     {<div>\n          <LinkStyled  to={backLink} >Go back</LinkStyled> \n        <Wrapper>\n          <WrapperSection>\n            {poster_path ? <Img src={`https://image.tmdb.org/t/p/w342${poster_path}`} alt={movie.title}/> : <Img src={`http://dummyimage.com/100x150/99cccc.gif&text=Not+image! `}/>  }\n          <PosterWrapper>\n            <Poster>\n            <h2>{title}</h2>\n            <p>User Score: {((vote_average / 10) * 100).toFixed(0)} %</p>\n            <h3>Overviev</h3>\n            <p>{overview}</p>\n            <h4>Genres</h4>\n            {/* {genres.map(genre => (\n             <p key={genre.id}>{genre.name}</p>\n            ))} */}\n            <p>{genreFilter}</p>\n              </Poster>\n              </PosterWrapper>\n            </WrapperSection>\n          </Wrapper>\n          <List>\n            <LinkStyled><NavLink to={castLink} state={{from: location.state.from}} >Cast</NavLink></LinkStyled>\n            <LinkStyled><NavLink to={reviewsLink} state={{from: location.state.from}} >Reviews</NavLink></LinkStyled>\n        </List>\n        <Suspense fallback={null}>\n          <Outlet />\n        </Suspense>\n        </div>}\n    </div>\n  )\n}\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const LinkStyled = styled(Link)`\n  display: inline-block;\n  margin-left: 24px;\n  padding: 5px;\n  border: 0;\n  top: 70px;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  background-color: #fff;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  border-radius: 4px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  &:hover {\n    opacity: 1;\n    background-color: #00bcd4de;\n    border-radius: 4px;\n    box-shadow: 0px 2px 4px -1px \n        rgb(0 0 0 / 20%), 0px 4px 5px 0px \n        rgb(0 0 0 / 14%), 0px 1px 10px 0px \n        rgb(0 0 0 / 12%);\n  }  \n`;\n\nexport const Wrapper = styled.div`\n    border-bottom: 1px solid #211e1e;\n    background-position: right -200px top;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background: linear-gradient(to bottom right, \n        rgb(0 188 212 / 87%), rgb(0 188 212 / 50%));\n    color: #ffffff;\n    border-radius: 4px;\n    margin: 12px 24px;\n    box-shadow: 0px 2px 4px -1px \n        rgb(0 0 0 / 20%), 0px 4px 5px 0px \n        rgb(0 0 0 / 14%), 0px 1px 10px 0px \n        rgb(0 0 0 / 12%);\n`;\n\nexport const WrapperSection = styled.div`\n    padding: 30px 40px;\n    display: flex;\n    flex-wrap: nowrap;\n`\nexport const Img = styled.img`\n    display: block;\n    min-width: 300px;\n    width: 300px;\n    height: 450px;\n    position: relative;\n    top: 0;\n    left: 0;\n    border-radius: 4px;\n`;\nexport const PosterWrapper = styled.div`\n    display: flex;\n`;\n\nexport const Poster = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    box-sizing: border-box;\n    padding-left: 40px;\n`;\n\nexport const List = styled.ul`\n    /* margin: 12px 24px; */\n    display: flex;\n    align-items: center;\n`;\n","import styled from \"styled-components\";\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;","import React from 'react';\nimport { BallTriangle } from 'react-loader-spinner'\nimport { Overlay } from './Loader.styled'; \nimport { createPortal } from 'react-dom';\n\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Loader (props) {\n  return createPortal(\n      <Overlay>\n      <BallTriangle\n        height={100}\n        width={100}\n        radius={5}\n        color=\"#4fa94d\"\n        ariaLabel=\"ball-triangle-loading\"\n        wrapperClass={{}}\n        wrapperStyle=\"\"\n        visible={true}\n      />\n      </Overlay>,\n      modalRoot,\n    );\n  }\n\n","import styled from \"styled-components\";\n\nexport const Title = styled.p`\ndisplay: inline-block;\n    font-size: 20px;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 12px 24px;\n`;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { Title } from './Warnings.styled';\n\nexport default function Warnings({text}) {\n  return (\n      <Title>{text}</Title>\n  )\n}\n\nWarnings.propTypes = {\n  text: PropTypes.string.isRequired\n}\n","import axios from 'axios';\nimport PropTypes from \"prop-types\";\n\nconst KEY = '2bec22f10b981066f1b82ccd0874c542';\nconst URL = 'https://api.themoviedb.org/3';\nconst Tranding = '/trending/movie/day';\nconst Search = '/search/movie?';\nconst SearchId = '/movie/';\nconst Credits = '/credits';\nconst Reviews = '/reviews';\n\nconst instance = axios.create({\n  baseURL: URL,\n  params: {\n    api_key: KEY,\n    page: 1,\n  },\n});\n\nexport const getMovieTranding = async () => {\n  const { data } = await instance.get(`${Tranding}`);\n\n  return data;\n};\n\nexport const getMovieById = async (id) => {\n    const { data } = await instance.get(`${SearchId}${id}?`);\n\n  return data;\n}\n\nexport const getSearchMovie = async (query, page ) => {\n  const { data } = await instance.get(`${Search}?`, {\n    params: {\n        page,\n        query,\n      }\n    });\n\n  return data;\n}\n\nexport const getMovieCast = async (id) => {\n    const { data } = await instance.get(`${SearchId}${id}${Credits}?`);\n\n  return data;\n}\n\nexport const getMovieReviews = async (id) => {\n    const { data } = await instance.get(`${SearchId}${id}${Reviews}?`);\n\n  return data;\n}\n\n\ngetMovieById.PropTypes = {\n  id: PropTypes.number\n}\n\n\ngetSearchMovie.PropTypes = {\n  page: PropTypes.number,\n  query: PropTypes.string.isRequired\n}\n\ngetMovieCast.PropTypes = {\n  id: PropTypes.number\n}\n\ngetMovieReviews.PropTypes = {\n  id: PropTypes.number\n}"],"names":["MovieDetailsPage","useState","movie","setMovie","loading","setLoading","error","setError","id","useParams","movieId","location","useLocation","castLink","pathname","includes","reviewsLink","backLink","state","from","useEffect","fetchMovie","getMovieById","result","poster_path","title","vote_average","overview","genreFilter","genres","map","genre","name","join","text","to","src","alt","toFixed","Suspense","fallback","LinkStyled","styled","Link","Wrapper","WrapperSection","Img","PosterWrapper","Poster","List","Overlay","modalRoot","document","querySelector","Loader","props","createPortal","height","width","radius","color","ariaLabel","wrapperClass","wrapperStyle","visible","Title","Warnings","SearchId","instance","axios","baseURL","params","api_key","page","getMovieTranding","get","data","getSearchMovie","query","getMovieCast","getMovieReviews","PropTypes"],"sourceRoot":""}